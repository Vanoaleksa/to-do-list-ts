{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\nconst initialState = {\n  items: [id]\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const items = state.items;\n\n  switch (action.type) {\n    case actionTypes.ADD_ITEM:\n      const newItem = {\n        id: items.length >= 1 ? items[items.length - 1].id + 1 : 0,\n        name: action.payload.name,\n        isCompleted: false\n      };\n      return { ...state,\n        items: items.concat(newItem)\n      };\n\n    case actionTypes.REMOVE_ITEM:\n      const updatedItems = items.filter(item => item.id !== action.payload.id);\n      return { ...state,\n        items: updatedItems\n      };\n\n    case actionTypes.CHANGE_ITEM_STATE:\n      const updatedArray = items.map(item => {\n        if (item.id === action.payload.id) {\n          return { ...item,\n            isCompleted: !item.isCompleted\n          };\n        }\n\n        return item;\n      });\n      return { ...state,\n        items: updatedArray\n      };\n\n    case actionTypes.RESET_ALL:\n      return { ...state,\n        items: []\n      };\n\n    case actionTypes.REMOVE_COMPLETED_ITEMS:\n      const notCompletedItems = items.filter(item => item.isCompleted === false);\n      return { ...state,\n        items: notCompletedItems\n      };\n  }\n\n  return state;\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/ivan/to-do-list-typescript/src/redux/reducer.ts"],"names":["actionTypes","initialState","items","id","reducer","state","action","type","ADD_ITEM","newItem","length","name","payload","isCompleted","concat","REMOVE_ITEM","updatedItems","filter","item","CHANGE_ITEM_STATE","updatedArray","map","RESET_ALL","REMOVE_COMPLETED_ITEMS","notCompletedItems"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,eAA7B;AAGA,MAAMC,YAAwB,GAAG;AAC7BC,EAAAA,KAAK,EAAE,CAACC,EAAD;AADsB,CAAjC;;AAIA,MAAMC,OAAO,GAAG,YAGC;AAAA,MAFbC,KAEa,uEAFOJ,YAEP;AAAA,MADbK,MACa;AACb,QAAMJ,KAAqB,GAAGG,KAAK,CAACH,KAApC;;AACA,UAAQI,MAAM,CAACC,IAAf;AACI,SAAKP,WAAW,CAACQ,QAAjB;AACI,YAAMC,OAAqB,GAAG;AAC1BN,QAAAA,EAAE,EAAED,KAAK,CAACQ,MAAN,IAAgB,CAAhB,GAAoBR,KAAK,CAACA,KAAK,CAACQ,MAAN,GAAe,CAAhB,CAAL,CAAwBP,EAAxB,GAA6B,CAAjD,GAAqD,CAD/B;AAE1BQ,QAAAA,IAAI,EAAEL,MAAM,CAACM,OAAP,CAAeD,IAFK;AAG1BE,QAAAA,WAAW,EAAE;AAHa,OAA9B;AAKA,aAAO,EACH,GAAGR,KADA;AAEHH,QAAAA,KAAK,EAAEA,KAAK,CAACY,MAAN,CAAaL,OAAb;AAFJ,OAAP;;AAIJ,SAAKT,WAAW,CAACe,WAAjB;AACI,YAAMC,YAA4B,GAAGd,KAAK,CAACe,MAAN,CACjCC,IAAI,IAAIA,IAAI,CAACf,EAAL,KAAYG,MAAM,CAACM,OAAP,CAAeT,EADF,CAArC;AAGA,aAAO,EACH,GAAGE,KADA;AAEHH,QAAAA,KAAK,EAAEc;AAFJ,OAAP;;AAKJ,SAAKhB,WAAW,CAACmB,iBAAjB;AACI,YAAMC,YAA4B,GAAGlB,KAAK,CAACmB,GAAN,CAAWH,IAAD,IAAU;AACrD,YAAIA,IAAI,CAACf,EAAL,KAAYG,MAAM,CAACM,OAAP,CAAeT,EAA/B,EAAmC;AAC/B,iBAAO,EAAE,GAAGe,IAAL;AAAWL,YAAAA,WAAW,EAAE,CAACK,IAAI,CAACL;AAA9B,WAAP;AACH;;AACD,eAAOK,IAAP;AACH,OALoC,CAArC;AAOA,aAAO,EACH,GAAGb,KADA;AAEHH,QAAAA,KAAK,EAAEkB;AAFJ,OAAP;;AAIJ,SAAKpB,WAAW,CAACsB,SAAjB;AACI,aAAO,EACH,GAAGjB,KADA;AAEHH,QAAAA,KAAK,EAAE;AAFJ,OAAP;;AAIJ,SAAKF,WAAW,CAACuB,sBAAjB;AACI,YAAMC,iBAAiC,GAAGtB,KAAK,CAACe,MAAN,CACtCC,IAAI,IAAIA,IAAI,CAACL,WAAL,KAAqB,KADS,CAA1C;AAGA,aAAO,EACH,GAAGR,KADA;AAEHH,QAAAA,KAAK,EAAEsB;AAFJ,OAAP;AAzCR;;AA8CA,SAAOnB,KAAP;AACH,CApDD;;AAsDA,eAAeD,OAAf","sourcesContent":["import * as actionTypes from \"./actionTypes\"\nimport { ItemsState, ItemsAction, toDoListItem } from \"./types\"\n\nconst initialState: ItemsState = {\n    items: [id]\n}\n\nconst reducer = (\n    state: ItemsState = initialState,\n    action: ItemsAction\n): ItemsState => {\n    const items: toDoListItem[] = state.items\n    switch (action.type) {\n        case actionTypes.ADD_ITEM:\n            const newItem: toDoListItem = {\n                id: items.length >= 1 ? items[items.length - 1].id + 1 : 0,\n                name: action.payload.name,\n                isCompleted: false,\n            }\n            return {\n                ...state,\n                items: items.concat(newItem),\n            }\n        case actionTypes.REMOVE_ITEM:\n            const updatedItems: toDoListItem[] = items.filter(\n                item => item.id !== action.payload.id\n            )\n            return {\n                ...state,\n                items: updatedItems,\n            }\n\n        case actionTypes.CHANGE_ITEM_STATE:\n            const updatedArray: toDoListItem[] = items.map((item) => {\n                if (item.id === action.payload.id) {\n                    return { ...item, isCompleted: !item.isCompleted }\n                }\n                return item\n            }\n            )\n            return {\n                ...state,\n                items: updatedArray,\n            }\n        case actionTypes.RESET_ALL:\n            return {\n                ...state,\n                items: [],\n            }\n        case actionTypes.REMOVE_COMPLETED_ITEMS:\n            const notCompletedItems: toDoListItem[] = items.filter(\n                item => item.isCompleted === false\n            )\n            return {\n                ...state,\n                items: notCompletedItems,\n            }\n    }\n    return state\n}\n\nexport default reducer\n"]},"metadata":{},"sourceType":"module"}